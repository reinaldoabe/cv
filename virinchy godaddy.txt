<!DOCTYPE HTML>
<html>

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta charset="UTF-8">

  <title>OData Expand and Select with XmlView</title>
  <meta name="description" content="OData Multi Expand with XmlView" />

  <script id="sap-ui-bootstrap" src="https://openui5.netweaver.ondemand.com/resources/sap-ui-core.js" data-sap-ui-theme="sap_bluecrystal" data-sap-ui-libs="sap.m" data-sap-ui-xx-bindingSyntax="complex">
  </script>

  <script id="view1" type="sapui5/xmlview">
    <mvc:View xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="XMLViewController" xmlns:html="http://www.w3.org/1999/xhtml">
      <Shell id="shell" showLogout="false" xmlns:f="sap.ui.layout.form"
xmlns:form="sap.ui.layout.form">
        <app>
          <App id="app" defaultTransitionName="slide">
            <pages>
              <Page id="page1" title="Fleet Risk Assessment Form" enableScrolling="false">
                <content>
                  <Table id="table" class="sapUiResponsiveMargin sapUiNoMarginTop" growing="true" growingScrollToLoad="true" updateFinished="onUpdateFinished" width="auto" items="{
					path: '/modelData',
					sorter: {
						path: 'FirstName',
						descending: false
					}
				}">
                   <headerToolbar>
			<Toolbar>
				<Title text="Risk Assessment List" level="H2" />
				<ToolbarSpacer />
				<Button
					icon="sap-icon://settings"
					press="handleButtonPress" />
				<Button
					icon="sap-icon://person-placeholder"
					press="handleButtonPress" />
				<Button
					icon="sap-icon://drop-down-list"
					press="handleButtonPress" />
			</Toolbar>
		</headerToolbar>
		<infoToolbar>
			<Toolbar
				active="false"
				press="handleInfobarPress" >
				
			</Toolbar>
		</infoToolbar>
                    <columns>
                      <Column id="nameColumn">
                        <Text id="nameColumnTitle" text="Risk Assessment ID" />
                      </Column>
                      <Column id="supplierNameColumn" demandPopin="false">
                        <Text text="WorkOrderNo" />
                      </Column>
                    </columns>
                    <items>
                      <ColumnListItem press="_handleTileTap" type="Navigation">
                        <cells>
                          <ObjectIdentifier title="{RiskAssessmentID}" />
                          <Text text="{WorkOrderNo}" />
                        </cells>
                      </ColumnListItem>
                    </items>
                  </Table>
                </content>
              </Page>


              <Page id="page2">
                <content>
                  <ObjectHeader introActive="false" titleActive="false" iconActive="false"></ObjectHeader>
                  <IconTabBar id="iconTabBar">
                    <items>
                      <IconTabFilter text="Risk" icon="sap-icon://hint">
                        <content>

<form:SimpleForm editable="true">
<VBox>
<HBox>
<Text text=" Is the work being undertaken a “like for like” repair (i.e. no change to physical dimensions or material used or application of the vehicle, plant, equipment and manufacturing method)"/>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="If YES, proceed to need section "/>
<Text text="If NO, is the Equipment Modification Form attached to the work order?                 
 "/>
<Text text="If unsure refer for help in the order listed:         a) Your Supervisor  b) Coordinator  c) Safety Officer"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>




</VBox>
</form:SimpleForm>


<form:SimpleForm editable="true" 	title="STOP, step back and think ">
<VBox>
<HBox>
<Text text=" Am I trained/inducted, competent, licensed and fit to perform this task?"/>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I understand what I need to do?"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I need any permits (e.g. hot work, confined space, digs)"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I have the correct PPE in good condition for the task?"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I have the suitable tools and equipment for the task?	"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>


<HBox>
<VBox>
<Text text="Do I have any vehicle or mobile plant parked and isolated appropriately?"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

</VBox>
</form:SimpleForm>

<form:SimpleForm editable="true" 	title="STOP, step back and think ">
<VBox>
<HBox>
<Text text=" Am I trained/inducted, competent, licensed and fit to perform this task?"/>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I understand what I need to do?"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I need any permits (e.g. hot work, confined space, digs)"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I have the correct PPE in good condition for the task?"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

<HBox>
<VBox>
<Text text="Do I have the suitable tools and equipment for the task?	"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>


<HBox>
<VBox>
<Text text="Do I have any vehicle or mobile plant parked and isolated appropriately?"/>
</VBox>
	<Switch state="true" customTextOn="Yes" customTextOff="No">
					<layoutData>
						<FlexItemData growFactor="1" />
					</layoutData>
				</Switch>
</HBox>

</VBox>
</form:SimpleForm>


                        
                        </content>
                      </IconTabFilter>
<!--
                      <IconTabFilter text="Territories" icon="sap-icon://hint">
                        <content>



                          <f:SimpleForm minWidth="1024" maxContainerCols="2" editable="false" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="3" emptySpanL="4" emptySpanM="4" columnsL="1" columnsM="1">

                            <f:content>
                              <Label text="TerritoryID" />
                              <Text text="{TerritoryID}" />

                              <Label text="TerritoryDescription" />
                              <Text text="{TerritoryDescription}" />
                            </f:content>

                          </f:SimpleForm>
                        </content>
                      </IconTabFilter> -->
                    </items>
                  </IconTabBar>
                </content>
                <customHeader>
                  <Bar>
                    <contentLeft>
                      <Button id="myButton" icon="sap-icon://nav-back" press="_handleHomeTap"></Button>
                    </contentLeft>
                    <contentMiddle>
                      <Label text="Risk  {RiskAssessmentID}"></Label>
                    </contentMiddle>
                  </Bar>
                </customHeader>
                <footer>
                  <Bar translucent="true">
                    <contentLeft>
                      <Button icon="sap-icon://action-settings"></Button>
                    </contentLeft>
                  </Bar>
                </footer>
              </Page>
            </pages>
          </App>
        </app>
      </Shell>
    </mvc:View>
  </script>

  <script>
    // Controller definition
    sap.ui.controller("XMLViewController", {

      onInit: function(oEvent) {
        
      
            var vData = [ 
       {RiskAssessmentID:"1", WorkOrderNo:"40000001", linkText:"Cognizant Technology Solutions", href:"http://www.cognizant.com", gender:"Male", mobile:"9786721460", rating:3},
           {RiskAssessmentID:"2", WorkOrderNo:"40000002", linkText:"Cognizant Technology Solutions", href:"http://www.cognizant.com", gender:"Female", mobile:"9524396759", rating:4},
           {RiskAssessmentID:"3", WorkOrderNo:"40000003", linkText:"Cognizant Technology Solutions", href:"http://www.cognizant.com", gender:"Male", mobile:"9876543210", rating:1},
           {RiskAssessmentID:"4", WorkOrderNo:"40000004", linkText:"Cognizant Technology Solutions", href:"http://www.cognizant.com", gender:"Male", mobile:"9576113218", rating:4},
           {RiskAssessmentID:"5", WorkOrderNo:"40000005", linkText:"Cognizant Technology Solutions", href:"http://www.cognizant.com", gender:"Male", mobile:"9576113218", rating:5}
     
          ];
 
           var oModel = new sap.ui.model.json.JSONModel();        // created a JSON model      

     oModel.setData({modelData: vData}); 
     //   var oModel = new sap.ui.model.odata.ODataModel("http://services.odata.org/V2/Northwind/Northwind.svc");
      debugger;
        this.getView().setModel(oModel);


      },

      _handleTileTap: function(oEvent) {
        this.byId("app").to("__xmlview0--page2");
        this.byId("page2").setBindingContext(oEvent.getSource().getBindingContext(this.sName), this.sName);
      },

      _handleHomeTap: function(oEvent) {
        this.byId("app").back();
      },



    });

    // Instantiate the View, assign a model and display
    var oView = sap.ui.xmlview({
      viewContent: jQuery("#view1").html()
    });

    oView.placeAt("content");
  </script>

</head>

<body class="sapUiBody" role="application" id="content">
</body>

</html>